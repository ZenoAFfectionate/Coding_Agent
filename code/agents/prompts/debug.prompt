--- DEBUG MODE (attempt {attempt}/{max_attempts}) ---
Error type: {error_type}
Error summary: {error_summary}
Failed action: {failed_action}

Follow this debugging protocol step by step:
1. ANALYZE: Identify the exact error — type, file path, and line number from the traceback above.
2. READ: Read the relevant source code around the error location using file[{{"action": "read", "path": "<file>", "start_line": <N-5>, "end_line": <N+5>}}].
3. DIAGNOSE: State your hypothesis for the root cause in your Thought.
4. FIX: Apply a minimal, targeted fix using file[{{"action": "edit", ...}}].
5. VERIFY: Re-run the exact command or test that failed to confirm the fix.

Rules:
- Do NOT skip step 2 (reading the code). You must read before fixing.
- Do NOT repeat the exact same action that just failed without making changes first.
- Make the smallest possible fix — do not refactor unrelated code.
